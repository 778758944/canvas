<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <canvas id="cvs" width="500" height="500" style="border:1px solid #000"></canvas>
    <script>
    var cvs=document.getElementById("cvs");
    var ctx=cvs.getContext("2d");
    function drawBase(x,y,width,height){
    	ctx.strokeStyle="#000";
    	ctx.lineWidth=1;
    	ctx.beginPath();
    	ctx.moveTo(x,y);
    	ctx.lineTo(x+width,y);
    	ctx.stroke();

    	ctx.beginPath();
    	ctx.moveTo(x,y);
    	ctx.lineTo(x,y+height);
    	ctx.stroke();
    }

    function kedu(x,y,long,bool){
    	if(bool){
    		for(var i=x+10;i<x+long;i=i+10){
    			ctx.beginPath();
    			ctx.moveTo(i,y-5);
    			ctx.lineTo(i,y);
    			ctx.stroke();
    		}
    	}
    	else{
    		for(var i=y+10;i<y+long;i=i+10){
    			ctx.beginPath();
    			ctx.moveTo(x+5,i);
    			ctx.lineTo(x,i);
    			ctx.stroke();
    		}
    	}
    }
    ctx.save();
    drawBase(50.5,450.5,300,-300);
    kedu(50.5,450.5,300,true);
    kedu(50.5,150.5,300,false);
    ctx.restore();
    var offsetX=cvs.offsetLeft;
    var offsetY=cvs.offsetTop;
    console.log(offsetX);
    console.log(offsetY);
    cvs.onmousedown=function(e){
    	ctx.save();
    	ctx.strokeStyle="#F00";
    	var x=e.pageX-offsetX;
    	var y=e.pageY-offsetY;
    	ctx.beginPath();
    	ctx.moveTo(x,y);
    	document.onmousemove=function(e){
    		console.log("kk");
    		ctx.clearRect(0,0,cvs.width,cvs.height);

    		var posx=e.pageX-offsetX;
    		var posy=e.pageY-offsetY;
    		ctx.lineTo(posx,posy);
    		ctx.stroke();
    		// ctx.clearRect(0,0,cvs.width,cvs.height);
    	}
    	document.onmouseup=function(){
    		document.onmousemove=null;
    		document.onmouseup=null;
    	}
    }













    </script>
</body>
</html>


















